@using AFRICOMDMSWEB.Models.ViewModel
@using System.Security.Claims
@model RequestViewModel
<partial name="sidebbar" />
<div class="home-section">
    <div class="contain">
        <div class="cont">
            <div class="btnss text-end">
                <a class="btn btn-primary" asp-action="CreateRequest" asp-controller="Request">Create Request</a>
                @if(@Model.Rquestrecieved.Count() > 0 || Model.RecivedRequiestPass.Count() > 0){
                    <a class="btn btn-primary" asp-action="RequestRecieved" asp-controller="Request">See Recived Request</a>
                }
                <a asp-action="ReqProcess" asp-controller="Request"  class="btn btn-primary">Req process</a>
                <div class="my-4">

                <h5 class="text-center">The Request You Created</h5>
                <table class="table border table-striped">
                    <thead>
                        <tr>
                            <th>
                                #
                            </th>
                            <th>
                                Requst Title
                            </th>
                          
                            <th>SendedTo</th>

                        </tr>
                    </thead>
                    <tbody>
                        @if (Model.RquestSsended.Count() > 0)
                        {
                            int count = 0;
                            @foreach (var item in Model.RquestSsended)
                            {
                                count = count + 1;
                                <tr>

                                    <td>@count</td>
                                    <td>
                                        @item.Title
                                    </td>
                                    <td>
                                        @item.ActionTaker.Name
                                    </td>
                                  <td>
                                      <a class="btn btn-primary" asp-action="Detail" asp-controller="Request"  asp-route-id="@item.RedId">Details</a>
                                  </td>
                                </tr>
                               
                            }
                        }
                        else
                        {
                            <tr><td colspan="4" class="text-center">No Request Created</td></tr>
                        }
                    </tbody>
                </table>
                </div>
                @*<div class="my-6">
                    @if(Model.passtoAnotherRequest.Count()>0){
                        <h5 class="text-center">The Requist You Pass to SOmeone To Decide</h5>
                        <table class="table border table-striped">
                            <thead>
                                <tr>
                                    <th>
                                        #
                                    </th>
                                    <th>
                                        Requst Title
                                    </th>

                                    <th>SendedTo</th>

                                </tr>
                            </thead>
                            <tbody>
                               
                                    @{
                                int count = 0;}
                                        
                                    @foreach (var item in Model.passtoAnotherRequest)
                                    {
                                        count = count + 1;
                                        <tr>

                                            <td>@count</td>
                                            <td>
                                                @item.Title
                                            </td>
                                            <td>
                                                @item.ActionTaker.Name
                                            </td>
                                            <td>
                                                <a class="btn btn-primary" asp-action="RequestActions" asp-controller="Request" asp-route-id="@item.RequestId">See the Answers</a>
                                            </td>
                                        </tr>

                                    }
                               
                            </tbody>
                        </table>

                    }
                </div>*@
            </div>
         </div>
    </div>
</div>
